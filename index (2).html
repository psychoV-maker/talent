<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤©èµ‹è‡ªæµ‹ï¼šæ‰¾åˆ°ä½ çš„æ ¸å¿ƒä¼˜åŠ¿</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        body {
            background: linear-gradient(135deg, #fdf2f8 0%, #fef7fb 100%);
            padding: 20px;
            color: #333;
            min-height: 100vh;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px 20px;
            box-shadow: 0 8px 24px rgba(233, 30, 99, 0.08);
        }
        /* å¼•å¯¼é¡µæ ·å¼å‡çº§ - æµ‹è¯•è¯´æ˜æ‹†åˆ†ä¸º4ä¸ªè‰²å— */
        .guide-box {
            display: block;
            text-align: center;
        }
        .guide-header {
            background: linear-gradient(90deg, #e91e63, #ec407a);
            color: white;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
        }
        .guide-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .guide-subtitle {
            font-size: 14px;
            opacity: 0.9;
        }
        .guide-desc {
            margin-bottom: 25px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        .guide-item {
            background: #fef0f5;
            border-radius: 12px;
            padding: 16px;
            text-align: left;
            color: #444;
            border-left: 4px solid #e91e63;
        }
        .guide-item p {
            font-size: 15px;
            line-height: 1.6;
        }
        .guide-item p span {
            color: #e91e63;
            font-weight: 600;
        }
        .start-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(90deg, #e91e63, #ec407a);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(233, 30, 99, 0.2);
            transition: all 0.2s ease;
        }
        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(233, 30, 99, 0.3);
        }

        /* ç­”é¢˜åŒºåŸŸæ ·å¼ - ç§»é™¤å³ä¸Šè§’å¤©èµ‹ç»´åº¦æ ‡ç­¾ */
        .question-box {
            margin-bottom: 30px;
            display: none;
        }
        .progress {
            height: 10px;
            background: #f5f5f5;
            border-radius: 5px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #e91e63, #ec407a);
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s ease;
        }
        .question-header {
            display: flex;
            justify-content: flex-start; /* ä»…ä¿ç•™é¢˜ç›®è®¡æ•°ï¼Œç§»é™¤å³ä¾§æ ‡ç­¾ */
            align-items: center;
            margin-bottom: 20px;
            font-size: 14px;
            color: #666;
        }
        .question-text {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #2c3e50;
        }
        .option-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .option-item {
            padding: 18px;
            border: 1px solid #eee;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
        }
        .option-item:hover {
            border-color: #e91e63;
            background: #fef0f5;
        }
        .option-item.active {
            background: linear-gradient(90deg, #e91e63, #ec407a);
            color: white;
            border-color: #e91e63;
        }
        .nav-btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }
        .btn {
            padding: 12px 24px;
            background: #e91e63;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn:hover {
            background: #d81b60;
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* ç»“æœé¡µé¢æ ·å¼ - å¼ºåŒ–ç§¯æåˆ†æå’Œå»ºè®® */
        .result-box {
            display: none;
            padding: 10px 0;
        }
        .result-title {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        .chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 30px;
        }
        .score-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 25px;
        }
        .score-table th, .score-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .score-table th {
            color: #666;
            font-weight: 600;
            font-size: 14px;
        }
        .score-table td {
            color: #2c3e50;
            font-size: 15px;
        }
        .score-value {
            color: #e91e63;
            font-weight: 600;
        }
        .result-analysis {
            background: #fef0f5;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 25px;
            line-height: 1.8;
            font-size: 15px;
            color: #444;
        }
        .result-analysis .highlight {
            color: #e91e63;
            font-weight: 700;
            font-size: 16px;
        }
        .restart-btn {
            width: 100%;
            padding: 16px;
            background: #2c3e50;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .restart-btn:hover {
            background: #1a2533;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æµ‹è¯•å¼•å¯¼é¡µ - 4ä¸ªç‹¬ç«‹è‰²å—å±•ç¤ºæµ‹è¯•è¯´æ˜ -->
        <div class="guide-box" id="guideBox">
            <div class="guide-header">
                <div class="guide-title">å¤©èµ‹è‡ªæµ‹ï¼šæ‰¾åˆ°ä½ çš„æ ¸å¿ƒä¼˜åŠ¿</div>
                <div class="guide-subtitle">è§£é”ä¸“å±ä½ çš„å¤©èµ‹å¯†ç </div>
            </div>
            <div class="guide-desc">
                <div class="guide-item">
                    <p>ğŸ“ <span>é¢˜é‡è¯´æ˜ï¼š</span>æœ¬æ¬¡æµ‹è¯•å…±30é“é¢˜ç›®ï¼Œè¦†ç›–è¯­è¨€ã€é€»è¾‘ã€ç©ºé—´ç­‰10å¤§å¤©èµ‹ç»´åº¦</p>
                </div>
                <div class="guide-item">
                    <p>â±ï¸ <span>æ—¶é•¿è¯´æ˜ï¼š</span>é¢„è®¡å®Œæˆæ—¶é•¿çº¦5-8åˆ†é’Ÿï¼Œè¯·é¢„ç•™å……è¶³æ—¶é—´è®¤çœŸä½œç­”</p>
                </div>
                <div class="guide-item">
                    <p>ğŸ’¡ <span>ä½œç­”å»ºè®®ï¼š</span>å»ºè®®åœ¨å®‰é™ã€æ— å¹²æ‰°çš„ç¯å¢ƒä¸‹ä½œç­”ï¼Œå‡­ç¬¬ä¸€ç›´è§‰é€‰æ‹©æœ€è´´åˆçš„ç­”æ¡ˆ</p>
                </div>
                <div class="guide-item">
                    <p>â¤ï¸ <span>æµ‹è¯•åˆè¡·ï¼š</span>æ¯é¢˜æ— å¯¹é”™ä¹‹åˆ†ï¼Œä»…ç”¨äºæ¢ç´¢ä½ çš„å¤©èµ‹å€¾å‘ï¼Œè¯·çœŸå®ä½œç­”</p>
                </div>
            </div>
            <button class="start-btn" id="startBtn">å¼€å§‹æ¢ç´¢æˆ‘çš„å¤©èµ‹</button>
        </div>
        
        <!-- ç­”é¢˜é¡µé¢ - ç§»é™¤å³ä¸Šè§’å¤©èµ‹ç»´åº¦æ ‡ç­¾ -->
        <div class="question-box" id="questionBox">
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="question-header">
                <span>ç¬¬<span id="questionNum">1</span>é¢˜/å…±30é¢˜</span>
            </div>
            <div class="question-text" id="questionText"></div>
            <div class="option-list" id="optionList"></div>
            <div class="nav-btn-group">
                <button class="btn" id="prevBtn" disabled>ä¸Šä¸€é¢˜</button>
                <button class="btn" id="nextBtn" disabled>ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- ç»“æœé¡µé¢ - å¼ºåŒ–ç§¯æåˆ†æå’Œå»ºè®® -->
        <div class="result-box" id="resultBox">
            <div class="result-title">ä½ çš„ä¸“å±å¤©èµ‹èƒ½åŠ›å›¾è°±</div>
            <div class="chart-container">
                <canvas id="talentChart"></canvas>
            </div>
            <table class="score-table">
                <thead>
                    <tr>
                        <th>å¤©èµ‹ç»´åº¦</th>
                        <th>ä½ çš„å¾—åˆ†</th>
                        <th>æ»¡åˆ†</th>
                    </tr>
                </thead>
                <tbody id="scoreTableBody">
                    <!-- åŠ¨æ€ç”Ÿæˆåˆ†å€¼è¡¨æ ¼ -->
                </tbody>
            </table>
            <div class="result-analysis" id="resultAnalysis"></div>
            <button class="restart-btn" id="restartBtn">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>

    <script>
        // 30é“è‡ªæµ‹é¢˜ï¼šå…³è”å…·ä½“å¤©èµ‹ç»´åº¦ï¼Œé¢˜ç›®å†…å®¹å…·ä½“åŒ–
        const questions = [
            // è¯­è¨€å¤©èµ‹
            { type: "è¯­è¨€", content: "ä½ èƒ½å¿«é€Ÿå‡†ç¡®åœ°è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ï¼Œå’Œä»–äººæ²Ÿé€šæ—¶å¾ˆå°‘å‡ºç°è¯¯è§£" },
            { type: "è¯­è¨€", content: "ä½ å–œæ¬¢é˜…è¯»ã€å†™ä½œï¼Œè®°å•è¯æˆ–å­¦ä¹ æ–°è¯­è¨€çš„é€Ÿåº¦æ¯”èº«è¾¹äººå¿«" },
            // é€»è¾‘ç®—æ•°
            { type: "é€»è¾‘ç®—æ•°", content: "è§£å†³æ•°å­¦é—®é¢˜ã€åˆ†ææ•°æ®æ—¶ï¼Œä½ èƒ½å¿«é€Ÿæ‰¾åˆ°è§„å¾‹å’Œè§£é¢˜æ€è·¯" },
            { type: "é€»è¾‘ç®—æ•°", content: "é¢å¯¹å¤æ‚çš„é€»è¾‘é—®é¢˜ï¼ˆå¦‚æ¨ç†é¢˜ï¼‰ï¼Œä½ èƒ½æ¸…æ™°æ¢³ç†å› æœå…³ç³»" },
            // ç©ºé—´å¤©èµ‹
            { type: "ç©ºé—´", content: "ä½ æœ‰å¾ˆå¼ºçš„æ–¹å‘æ„Ÿï¼Œé™Œç”Ÿç¯å¢ƒä¹Ÿèƒ½å¿«é€Ÿè®¤è·¯ï¼Œçœ‹åœ°å›¾æ¯«æ— å‹åŠ›" },
            { type: "ç©ºé—´", content: "æ‹¼è£…ç§¯æœ¨/å®¶å…·ã€æƒ³è±¡ç«‹ä½“å›¾å½¢æ—¶ï¼Œä½ èƒ½å¿«é€Ÿç†è§£ç©ºé—´ç»“æ„" },
            // å†…çœå¤©èµ‹
            { type: "å†…çœ", content: "ä½ èƒ½æ¸…æ™°æ„ŸçŸ¥è‡ªå·±çš„æƒ…ç»ªå˜åŒ–ï¼ŒçŸ¥é“è‡ªå·±çš„ä¼˜åŠ¿å’Œä¸è¶³" },
            { type: "å†…çœ", content: "é¢å¯¹å‹åŠ›æ—¶ï¼Œä½ èƒ½å¿«é€Ÿè°ƒæ•´å¿ƒæ€ï¼Œæ‰¾åˆ°é€‚åˆè‡ªå·±çš„è§£å‹æ–¹å¼" },
            // äººé™…å¤©èµ‹
            { type: "äººé™…", content: "ä½ æ“…é•¿å’Œé™Œç”Ÿäººæ‰“äº¤é“ï¼ŒçŸ­æ—¶é—´å†…å°±èƒ½å»ºç«‹èˆ’é€‚çš„æ²Ÿé€šæ°›å›´" },
            { type: "äººé™…", content: "å›¢é˜Ÿä¸­ä½ èƒ½å¿«é€Ÿå¯Ÿè§‰ä»–äººæƒ…ç»ªï¼Œæ“…é•¿åè°ƒçŸ›ç›¾ã€ä¿ƒè¿›åˆä½œ" },
            // èº«ä½“-åŠ¨è§‰
            { type: "èº«ä½“-åŠ¨è§‰", content: "è¿åŠ¨ã€æ‰‹å·¥åˆ¶ä½œæ—¶ï¼Œä½ çš„è‚¢ä½“åè°ƒæ€§å’ŒåŠ¨æ‰‹èƒ½åŠ›è¿œè¶…å¸¸äºº" },
            { type: "èº«ä½“-åŠ¨è§‰", content: "å­¦ä¹ æ–°çš„è‚¢ä½“åŠ¨ä½œï¼ˆå¦‚èˆè¹ˆã€çƒç±»ï¼‰æ—¶ï¼Œä½ èƒ½å¿«é€ŸæŒæ¡è¦é¢†" },
            // éŸ³ä¹å¤©èµ‹
            { type: "éŸ³ä¹", content: "ä½ å¯¹éŸ³å‡†ã€èŠ‚å¥æ•æ„Ÿï¼Œèƒ½å¿«é€Ÿè®°ä½æ—‹å¾‹ï¼Œç”šè‡³èƒ½å“¼å”±æ²¡å­¦è¿‡çš„æ›²å­" },
            { type: "éŸ³ä¹", content: "å¬åˆ°éŸ³ä¹æ—¶ï¼Œä½ èƒ½å¿«é€Ÿåˆ†è¾¨ä¹å™¨ç±»å‹ï¼Œæ„ŸçŸ¥éŸ³ä¹ä¼ è¾¾çš„æƒ…ç»ª" },
            // è‡ªç„¶å¤©èµ‹
            { type: "è‡ªç„¶", content: "ä½ å¯¹è‡ªç„¶ç¯å¢ƒæ•æ„Ÿï¼Œèƒ½å¿«é€Ÿè¾¨åˆ«æ¤ç‰©/åŠ¨ç‰©ç§ç±»ï¼Œå–œæ¬¢æˆ·å¤–æ¢ç´¢" },
            { type: "è‡ªç„¶", content: "ä½ æ“…é•¿è§‚å¯Ÿè‡ªç„¶è§„å¾‹ï¼ˆå¦‚å¤©æ°”å˜åŒ–ã€åŠ¨æ¤ç‰©ç”Ÿé•¿ï¼‰ï¼Œå¹¶æ€»ç»“ç»éªŒ" },
            // åˆ›é€ å¤©èµ‹
            { type: "åˆ›é€ ", content: "é¢å¯¹é—®é¢˜æ—¶ï¼Œä½ æ€»èƒ½æƒ³åˆ°ä¸ä¼—ä¸åŒçš„è§£å†³æ–¹æ³•ï¼Œæƒ³è±¡åŠ›ä¸°å¯Œ" },
            { type: "åˆ›é€ ", content: "ä½ å–œæ¬¢åˆ›æ„ç±»æ´»åŠ¨ï¼ˆå¦‚ç»˜ç”»ã€å†™æ•…äº‹ï¼‰ï¼Œèƒ½å¿«é€Ÿäº§ç”Ÿæ–°æƒ³æ³•" },
            // ç¾å­¦å¤©èµ‹
            { type: "ç¾å­¦", content: "ä½ å¯¹è‰²å½©ã€æ­é…ã€è£…é¥°æœ‰æ•é”çš„æ„ŸçŸ¥ï¼Œå®¡ç¾èƒ½åŠ›å¾—åˆ°èº«è¾¹äººè®¤å¯" },
            { type: "ç¾å­¦", content: "æŒ‘é€‰æœé¥°ã€å¸ƒç½®ç©ºé—´æ—¶ï¼Œä½ èƒ½å¿«é€Ÿæ­é…å‡ºåè°ƒç¾è§‚çš„æ•ˆæœ" },
            // è¡¥å……ç»†åˆ†èƒ½åŠ›é¢˜ç›®
            { type: "è¯­è¨€", content: "ä½ æ“…é•¿æ¼”è®²/è¡¨è¾¾ï¼Œèƒ½æ¸…æ™°ç”ŸåŠ¨åœ°å‘ä»–äººä¼ é€’å¤æ‚ä¿¡æ¯" },
            { type: "é€»è¾‘ç®—æ•°", content: "å¤„ç†ç´§æ€¥æƒ…å†µæ—¶ï¼Œä½ èƒ½ä¿æŒå†·é™ï¼Œå¿«é€Ÿåˆ†æå¹¶åšå‡ºå†³ç­–" },
            { type: "ç©ºé—´", content: "ä½ å¯¹ç»†èŠ‚çš„è¾¨åˆ«åŠ›å¼ºï¼Œèƒ½å¿«é€Ÿå‘ç°å›¾ç‰‡/åœºæ™¯ä¸­çš„ç»†å¾®å·®å¼‚" },
            { type: "å†…çœ", content: "ä½ çš„æŠ—å‹åŠ›å¼ºï¼Œé¢å¯¹æŒ«æŠ˜èƒ½å¿«é€Ÿæ¢å¤å¹¶ç»§ç»­å‰è¿›" },
            { type: "äººé™…", content: "ä½ æ“…é•¿å€¾å¬ï¼Œèƒ½è®©ä»–äººæ„¿æ„å€¾è¯‰ï¼Œæ˜¯èº«è¾¹äººçš„â€œæƒ…ç»ªæ ‘æ´â€" },
            { type: "èº«ä½“-åŠ¨è§‰", content: "æ‰‹å·¥DIYï¼ˆå¦‚æŠ˜çº¸ã€é™¶è‰ºï¼‰æ—¶ï¼Œä½ èƒ½åšå‡ºç²¾ç»†ä¸”ç¾è§‚çš„ä½œå“" },
            { type: "éŸ³ä¹", content: "ä½ çš„å¬åŠ›æ•é”ï¼Œèƒ½åˆ†è¾¨ç»†å¾®çš„å£°éŸ³å·®å¼‚ï¼ˆå¦‚ä¸åŒäººçš„è„šæ­¥å£°ï¼‰" },
            { type: "åˆ›é€ ", content: "ä½ æ“…é•¿å°†ä¸åŒçš„æƒ³æ³•ç»“åˆï¼Œåˆ›é€ å‡ºå…¨æ–°çš„è§£å†³æ–¹æ¡ˆæˆ–ä½œå“" },
            { type: "ç¾å­¦", content: "ä½ å¯¹ç¾æ„Ÿæœ‰é«˜è¦æ±‚ï¼Œèƒ½å¿«é€Ÿå‘ç°ç¯å¢ƒ/ç‰©å“ä¸­çš„ä¸åè°ƒä¹‹å¤„" },
            { type: "è‡ªç„¶", content: "ä½ æ“…é•¿ä»è‡ªç„¶ä¸­è·å–çµæ„Ÿï¼Œå–œæ¬¢ç”¨è‡ªç„¶å…ƒç´ è¿›è¡Œåˆ›ä½œ/è£…é¥°" }
        ];

        // é€‰é¡¹é…ç½®ï¼ˆåˆ†å€¼0-4ï¼‰
        const options = [
            { text: "å®Œå…¨ä¸ç¬¦åˆ", score: 0 },
            { text: "ä¸å¤ªç¬¦åˆ", score: 1 },
            { text: "ä¸€èˆ¬", score: 2 },
            { text: "æ¯”è¾ƒç¬¦åˆ", score: 3 },
            { text: "å®Œå…¨ç¬¦åˆ", score: 4 }
        ];

        // å¤©èµ‹ç»´åº¦é…ç½®ï¼ˆå¯¹åº”æœ€ç»ˆå±•ç¤ºçš„10å¤§ç»´åº¦ï¼‰
        const talentDimensions = [
            "è¯­è¨€", "é€»è¾‘ç®—æ•°", "ç©ºé—´", "å†…çœ", "äººé™…",
            "èº«ä½“-åŠ¨è§‰", "éŸ³ä¹", "è‡ªç„¶", "åˆ›é€ ", "ç¾å­¦"
        ];

        // å…¨å±€å˜é‡
        let currentIndex = 0; // å½“å‰é¢˜ç›®ç´¢å¼•
        let answerRecord = new Array(questions.length).fill(-1); // å­˜å‚¨æ¯é“é¢˜çš„ç­”æ¡ˆ
        let talentScores = {}; // å­˜å‚¨å„å¤©èµ‹ç»´åº¦æ€»åˆ†
        // åˆå§‹åŒ–å¤©èµ‹åˆ†å€¼ä¸º0
        talentDimensions.forEach(dim => {
            talentScores[dim] = 0;
        });

        // DOMå…ƒç´ 
        const guideBox = document.getElementById("guideBox");
        const questionBox = document.getElementById("questionBox");
        const progressBar = document.getElementById("progressBar");
        const questionNum = document.getElementById("questionNum");
        const questionText = document.getElementById("questionText");
        const optionList = document.getElementById("optionList");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");
        const startBtn = document.getElementById("startBtn");
        const resultBox = document.getElementById("resultBox");
        const talentChart = document.getElementById("talentChart");
        const scoreTableBody = document.getElementById("scoreTableBody");
        const resultAnalysis = document.getElementById("resultAnalysis");
        const restartBtn = document.getElementById("restartBtn");

        // åˆå§‹åŒ–é¡µé¢
        function init() {
            bindEvents();
            // é¢„åŠ è½½é›·è¾¾å›¾ï¼ˆé¿å…é¦–æ¬¡æ¸²æŸ“å¡é¡¿ï¼‰
            Chart.defaults.font.family = "PingFang SC", "Microsoft YaHei", sans-serif;
        }

        // æ¸²æŸ“å¼•å¯¼é¡µï¼ˆé»˜è®¤å±•ç¤ºï¼‰
        function showGuide() {
            guideBox.style.display = "block";
            questionBox.style.display = "none";
            resultBox.style.display = "none";
        }

        // æ¸²æŸ“å½“å‰é¢˜ç›®
        function renderQuestion() {
            if (currentIndex >= questions.length) {
                calculateTalentScores();
                showResult();
                return;
            }

            // æ˜¾ç¤ºç­”é¢˜é¡µ
            guideBox.style.display = "none";
            questionBox.style.display = "block";
            resultBox.style.display = "none";

            // æ›´æ–°é¢˜ç›®ä¿¡æ¯
            const currentQ = questions[currentIndex];
            questionNum.innerText = currentIndex + 1;
            questionText.innerText = currentQ.content;

            // æ›´æ–°è¿›åº¦æ¡
            updateProgress();

            // æ›´æ–°ä¸Šä¸‹é¢˜æŒ‰é’®çŠ¶æ€
            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = answerRecord[currentIndex] === -1;

            // æ¸²æŸ“é€‰é¡¹
            optionList.innerHTML = "";
            options.forEach(option => {
                const optionItem = document.createElement("div");
                optionItem.className = "option-item";
                optionItem.innerText = option.text;
                optionItem.dataset.score = option.score;
                
                // æ¢å¤å·²é€‰ä¸­çš„ç­”æ¡ˆ
                if (answerRecord[currentIndex] === option.score) {
                    optionItem.classList.add("active");
                }

                // é€‰é¡¹ç‚¹å‡»äº‹ä»¶ï¼šé€‰ä¸­åè‡ªåŠ¨è·³é¢˜
                optionItem.addEventListener("click", () => {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll(".option-item").forEach(item => {
                        item.classList.remove("active");
                    });
                    // æ·»åŠ å½“å‰é€‰é¡¹é€‰ä¸­çŠ¶æ€
                    optionItem.classList.add("active");
                    const selectedScore = parseInt(optionItem.dataset.score);
                    answerRecord[currentIndex] = selectedScore;

                    // æ›´æ–°ä¸‹ä¸€é¢˜æŒ‰é’®çŠ¶æ€
                    nextBtn.disabled = false;

                    // è‡ªåŠ¨è·³é¢˜ï¼ˆå»¶è¿Ÿ300msæå‡ä½“éªŒï¼‰
                    setTimeout(() => {
                        if (currentIndex === questions.length - 1) {
                            calculateTalentScores();
                            showResult();
                        } else {
                            currentIndex++;
                            renderQuestion();
                        }
                    }, 300);
                });

                optionList.appendChild(optionItem);
            });
        }

        // è®¡ç®—å„å¤©èµ‹ç»´åº¦æ€»åˆ†
        function calculateTalentScores() {
            // é‡ç½®åˆ†å€¼
            talentDimensions.forEach(dim => {
                talentScores[dim] = 0;
            });
            
            // æŒ‰é¢˜ç›®ç»´åº¦ç´¯åŠ åˆ†å€¼
            questions.forEach((q, index) => {
                const score = answerRecord[index];
                if (score === -1) return; // æœªä½œç­”çš„é¢˜ä¸è®¡åˆ†
                talentScores[q.type] += score;
            });
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const progress = ((currentIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // ç»‘å®šäº‹ä»¶
        function bindEvents() {
            // å¼€å§‹æµ‹è¯•æŒ‰é’®
            startBtn.addEventListener("click", () => {
                currentIndex = 0;
                answerRecord = new Array(questions.length).fill(-1);
                talentDimensions.forEach(dim => {
                    talentScores[dim] = 0;
                });
                renderQuestion();
            });

            // ä¸Šä¸€é¢˜æŒ‰é’®
            prevBtn.addEventListener("click", () => {
                if (currentIndex > 0) {
                    currentIndex--;
                    renderQuestion();
                }
            });

            // ä¸‹ä¸€é¢˜æŒ‰é’®ï¼ˆæ‰‹åŠ¨åˆ‡æ¢ï¼‰
            nextBtn.addEventListener("click", () => {
                if (currentIndex < questions.length - 1 && answerRecord[currentIndex] !== -1) {
                    currentIndex++;
                    renderQuestion();
                }
            });

            // é‡æ–°æµ‹è¯•æŒ‰é’®
            restartBtn.addEventListener("click", () => {
                currentIndex = 0;
                answerRecord = new Array(questions.length).fill(-1);
                talentDimensions.forEach(dim => {
                    talentScores[dim] = 0;
                });
                showGuide();
                // é”€æ¯æ—§å›¾è¡¨
                if (window.talentChartInstance) {
                    window.talentChartInstance.destroy();
                }
            });
        }

        // å±•ç¤ºç»“æœ
        function showResult() {
            questionBox.style.display = "none";
            resultBox.style.display = "block";

            // ç”Ÿæˆåˆ†å€¼è¡¨æ ¼
            renderScoreTable();
            
            // ç”Ÿæˆå¤©èµ‹é›·è¾¾å›¾
            renderTalentChart();
            
            // ç”Ÿæˆç§¯æçš„ç»“æœåˆ†æå’Œå»ºè®®
            generatePositiveAnalysis();
        }

        // æ¸²æŸ“åˆ†å€¼è¡¨æ ¼
        function renderScoreTable() {
            scoreTableBody.innerHTML = "";
            talentDimensions.forEach(dim => {
                const maxScore = getMaxScoreByDim(dim);
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${dim}</td>
                    <td class="score-value">${talentScores[dim]}</td>
                    <td>${maxScore}</td>
                `;
                scoreTableBody.appendChild(row);
            });
        }

        // è·å–ç»´åº¦æ»¡åˆ†ï¼ˆæ¯ä¸ªç»´åº¦çš„é¢˜ç›®æ•° * 4ï¼‰
        function getMaxScoreByDim(dim) {
            const count = questions.filter(q => q.type === dim).length;
            return count * 4;
        }

        // æ¸²æŸ“å¤©èµ‹é›·è¾¾å›¾
        function renderTalentChart() {
            // é”€æ¯æ—§å›¾è¡¨
            if (window.talentChartInstance) {
                window.talentChartInstance.destroy();
            }

            // å‡†å¤‡å›¾è¡¨æ•°æ®
            const scores = talentDimensions.map(dim => talentScores[dim]);
            const maxScores = talentDimensions.map(dim => getMaxScoreByDim(dim));
            // è®¡ç®—ç›¸å¯¹åˆ†å€¼ï¼ˆ0-100ï¼‰
            const relativeScores = scores.map((score, index) => (score / maxScores[index]) * 100);

            // åˆ›å»ºé›·è¾¾å›¾
            window.talentChartInstance = new Chart(talentChart, {
                type: 'radar',
                data: {
                    labels: talentDimensions,
                    datasets: [{
                        label: 'ä½ çš„å¤©èµ‹åˆ†å€¼',
                        data: relativeScores,
                        backgroundColor: 'rgba(233, 30, 99, 0.2)',
                        borderColor: 'rgba(233, 30, 99, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(233, 30, 99, 1)',
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: {
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            },
                            pointLabels: {
                                font: {
                                    size: 12
                                },
                                color: '#2c3e50'
                            },
                            ticks: {
                                backdropColor: 'transparent',
                                color: '#666',
                                font: {
                                    size: 10
                                },
                                max: 100,
                                min: 0,
                                stepSize: 20
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const dim = context.label;
                                    const score = talentScores[dim];
                                    const maxScore = getMaxScoreByDim(dim);
                                    return `${dim}ï¼š${score}/${maxScore}ï¼ˆ${context.raw.toFixed(0)}åˆ†ï¼‰`;
                                }
                            }
                        }
                    },
                    maintainAspectRatio: false
                }
            });
        }

        // ç”Ÿæˆç§¯æçš„ç»“æœåˆ†æå’Œå»ºè®®ï¼ˆæ ¸å¿ƒä¼˜åŒ–ç‚¹ï¼‰
        function generatePositiveAnalysis() {
            // æ‰¾åˆ°æœ€é«˜åˆ†å’Œæ¬¡é«˜åˆ†ç»´åº¦
            let sortedDims = talentDimensions.map(dim => ({
                name: dim,
                score: (talentScores[dim] / getMaxScoreByDim(dim)) * 100
            })).sort((a, b) => b.score - a.score);

            const top1Dim = sortedDims[0];
            const top2Dim = sortedDims[1];
            const top3Dim = sortedDims[2];

            // ç”Ÿæˆå……æ»¡æ­£èƒ½é‡çš„åˆ†ææ–‡æ¡ˆ
            let analysis = `
                <p class="highlight">ğŸ‰ æ­å–œä½ ï¼å‘ç°äº†è‡ªå·±çš„æ ¸å¿ƒå¤©èµ‹ä¼˜åŠ¿</p><br>
                <p><strong>ğŸŒŸ ä½ çš„æ ¸å¿ƒå¤©èµ‹ï¼š${top1Dim.name}</strong></p>
                <p>ä½ çš„${top1Dim.name}å¤©èµ‹å¾—åˆ†é«˜è¾¾${top1Dim.score.toFixed(0)}åˆ†ï¼Œè¿™æ˜¯ä½ æœ€ç‹¬ç‰¹ã€æœ€é—ªè€€çš„ä¼˜åŠ¿ï¼è¿™ç§å¤©èµ‹æ˜¯ä½ ä¸ç”Ÿä¿±æ¥çš„å®è—ï¼Œä¹Ÿæ˜¯ä½ åŒºåˆ«äºä»–äººçš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</p><br>
                <p><strong>âœ¨ ä½ çš„æ½œåŠ›å¤©èµ‹ï¼š${top2Dim.name}ã€${top3Dim.name}</strong></p>
                <p>é™¤äº†æ ¸å¿ƒå¤©èµ‹ï¼Œä½ çš„${top2Dim.name}ï¼ˆ${top2Dim.score.toFixed(0)}åˆ†ï¼‰å’Œ${top3Dim.name}ï¼ˆ${top3Dim.score.toFixed(0)}åˆ†ï¼‰ä¹Ÿå±•ç°å‡ºä¸ä¿—çš„æ½œåŠ›ï¼Œè¿™äº›å¤©èµ‹å¯ä»¥å’Œæ ¸å¿ƒå¤©èµ‹ç›¸äº’åŠ æŒï¼Œè®©ä½ æ‹¥æœ‰æ›´å…¨é¢çš„èƒ½åŠ›çŸ©é˜µã€‚</p><br>
                <p><strong>ğŸ’– ä¸“å±å‘å±•å»ºè®®</strong></p>
                <p>1. å‘æŒ¥ä¼˜åŠ¿ï¼šå¤šå‚ä¸èƒ½å±•ç°${top1Dim.name}å¤©èµ‹çš„æ´»åŠ¨ï¼ˆå¦‚${getSuggestionByDim(top1Dim.name)}ï¼‰ï¼Œè®©ä½ çš„ä¼˜åŠ¿è¢«æ›´å¤šäººçœ‹è§ï¼›</p>
                <p>2. æ½œåŠ›æŒ–æ˜ï¼šåˆ©ç”¨ç¢ç‰‡åŒ–æ—¶é—´åŸ¹å…»${top2Dim.name}èƒ½åŠ›ï¼Œè®©æ½œåŠ›å¤©èµ‹æˆä¸ºä½ çš„åŠ åˆ†é¡¹ï¼›</p>
                <p>3. ç»„åˆå‘å±•ï¼šå°è¯•å°†${top1Dim.name}ä¸${top2Dim.name}ç»“åˆï¼ˆå¦‚${getCombinationSuggestion(top1Dim.name, top2Dim.name)}ï¼‰ï¼Œæ‰“é€ ç‹¬ä¸€æ— äºŒçš„ä¸ªäººä¼˜åŠ¿ï¼›</p>
                <p>4. å¿ƒæ€èµ‹èƒ½ï¼šæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¤©èµ‹èŠ‚å¥ï¼Œä¸å¿…å’Œä»–äººæ¯”è¾ƒï¼Œä¸“æ³¨å‘æŒ¥è‡ªå·±çš„ä¼˜åŠ¿ï¼Œä½ å°±æ˜¯æœ€æ£’çš„ï¼</p><br>
                <p><strong>ğŸ’Œ æœ€åæƒ³å¯¹ä½ è¯´</strong></p>
                <p>å¤©èµ‹ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œå®ƒéœ€è¦ä½ çš„å‘ç°ã€åŸ¹å…»å’ŒåšæŒã€‚æ— è®ºç°åœ¨çš„å¾—åˆ†å¦‚ä½•ï¼Œéƒ½åªæ˜¯å½“ä¸‹çš„çŠ¶æ€ï¼Œåªè¦ä½ æ„¿æ„ï¼Œæ¯ä¸€ç§å¤©èµ‹éƒ½èƒ½é€šè¿‡åŠªåŠ›å¾—åˆ°æå‡ã€‚å‹‡æ•¢åœ°å»æ¢ç´¢ã€å»å°è¯•ï¼Œä½ çš„å¤©èµ‹ç»ˆå°†ç»½æ”¾å‡ºæœ€ç¾çš„å…‰èŠ’ï¼</p>
            `;

            resultAnalysis.innerHTML = analysis;
        }

        // æ ¹æ®ç»´åº¦è·å–æå‡å»ºè®®
        function getSuggestionByDim(dim) {
            const suggestions = {
                "è¯­è¨€": "æœ—è¯»ç¾æ–‡ã€å°è¯•å†™ä½œã€å‚åŠ çº¿ä¸Šæ¼”è®²åˆ†äº«",
                "é€»è¾‘ç®—æ•°": "åšè¶£å‘³æ•°ç‹¬ã€åˆ†æç”Ÿæ´»ä¸­çš„æ•°æ®ã€ç©é€»è¾‘æ¨ç†å°æ¸¸æˆ",
                "ç©ºé—´": "æ‹¼ä¹é«˜ç§¯æœ¨ã€æ‰‹ç»˜åœ°å›¾ã€å°è¯•ç®€å•çš„å®¤å†…è®¾è®¡",
                "å†…çœ": "å†™æƒ…ç»ªæ—¥è®°ã€æ¯å¤©5åˆ†é’Ÿå†¥æƒ³ã€å®šæœŸåšè‡ªæˆ‘å¤ç›˜",
                "äººé™…": "ä¸»åŠ¨è®¤è¯†æ–°æœ‹å‹ã€å‚ä¸å…¬ç›Šæ´»åŠ¨ã€ç»ƒä¹ å€¾å¬å’Œå…±æƒ…",
                "èº«ä½“-åŠ¨è§‰": "å­¦ä¹ ä¸€æ”¯èˆè¹ˆã€å°è¯•æ‰‹å·¥é™¶è‰ºã€æ¯å‘¨åšæŒè¿åŠ¨",
                "éŸ³ä¹": "å­¦å”±å–œæ¬¢çš„æ­Œæ›²ã€å¬çº¯éŸ³ä¹åŸ¹å…»ä¹æ„Ÿã€å°è¯•ç®€å•çš„ä¹å™¨",
                "è‡ªç„¶": "å‘¨æœ«æˆ·å¤–å¾’æ­¥ã€å…»ä¸€ç›†å°æ¤ç‰©ã€è§‚å¯Ÿèº«è¾¹çš„è‡ªç„¶ç°è±¡",
                "åˆ›é€ ": "æ¯å¤©è®°å½•ä¸€ä¸ªåˆ›æ„æƒ³æ³•ã€å°è¯•åˆ›æ„ç»˜ç”»ã€åšå¤´è„‘é£æš´ç»ƒä¹ ",
                "ç¾å­¦": "æ­é…è‡ªå·±çš„ç©¿æ­ã€å¸ƒç½®ä¹¦æ¡Œ/æˆ¿é—´ã€æ¬£èµä¼˜ç§€çš„è‰ºæœ¯ä½œå“"
            };
            return suggestions[dim] || "ç›¸å…³å…´è¶£æ´»åŠ¨";
        }

        // å¤©èµ‹ç»„åˆå‘å±•å»ºè®®
        function getCombinationSuggestion(dim1, dim2) {
            const combinations = {
                "è¯­è¨€+äººé™…": "åšæ²Ÿé€šç±»çš„åˆ†äº«åšä¸»ã€ä»äº‹é”€å”®æˆ–å®¢æœå·¥ä½œ",
                "é€»è¾‘ç®—æ•°+åˆ›é€ ": "åšäº§å“è®¾è®¡ã€å°è¯•ç¼–ç¨‹å¼€å‘åˆ›æ„å·¥å…·",
                "ç©ºé—´+ç¾å­¦": "åšè½¯è£…è®¾è®¡ã€å°è¯•æ‘„å½±æˆ–çŸ­è§†é¢‘åˆ›ä½œ",
                "éŸ³ä¹+åˆ›é€ ": "åˆ›ä½œåŸåˆ›æ­Œæ›²ã€åšéŸ³ä¹ç±»è‡ªåª’ä½“",
                "èº«ä½“-åŠ¨è§‰+ç¾å­¦": "å­¦ä¹ èˆè¹ˆç¼–å¯¼ã€å°è¯•æ—¶å°šèµ°ç§€",
                "å†…çœ+äººé™…": "åšå¿ƒç†å’¨è¯¢å¸ˆã€æˆä¸ºå›¢é˜Ÿçš„æƒ…ç»ªæ”¯æŒè€…",
                "è‡ªç„¶+ç¾å­¦": "åšè‡ªç„¶é£è½¯è£…è®¾è®¡ã€å°è¯•æ¤ç‰©é€ æ™¯",
                "è¯­è¨€+åˆ›é€ ": "å†™å°è¯´æˆ–å‰§æœ¬ã€åšå†…å®¹åˆ›ä½œåšä¸»",
                "é€»è¾‘ç®—æ•°+ç©ºé—´": "åšå»ºç­‘è®¾è®¡ã€å°è¯•æ¸¸æˆå¼€å‘",
                "äººé™…+ç¾å­¦": "åšç¾å¦†åšä¸»ã€ä»äº‹å¥¢ä¾ˆå“é¡¾é—®å·¥ä½œ"
            };
            const key = `${dim1}+${dim2}`;
            const reverseKey = `${dim2}+${dim1}`;
            return combinations[key] || combinations[reverseKey] || "å°†ä¸¤ç§èƒ½åŠ›ç»“åˆçš„åˆ›æ„ç±»æ´»åŠ¨";
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>